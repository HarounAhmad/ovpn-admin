(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const hn=!1;var Mt=Array.isArray,vr=Array.prototype.indexOf,qt=Array.from,it=Object.defineProperty,je=Object.getOwnPropertyDescriptor,dr=Object.getOwnPropertyDescriptors,_r=Object.prototype,hr=Array.prototype,pn=Object.getPrototypeOf,tn=Object.isExtensible;const ke=()=>{};function pr(e){return e()}function Tt(e){for(var t=0;t<e.length;t++)e[t]()}function br(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const j=2,bn=4,vt=8,Ne=16,re=32,pe=64,yn=128,B=256,at=512,A=1024,z=2048,ie=4096,H=8192,Re=16384,Ut=32768,jt=65536,nn=1<<17,yr=1<<18,Wt=1<<19,gn=1<<20,St=1<<21,Bt=1<<22,de=1<<23,We=Symbol("$state"),Vt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function gr(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function mn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function mr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function wr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Er(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function xr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function kr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Tr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Sr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Cr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const $r=1,Or=2,Nr=16,Rr=1,Ar=2,R=Symbol();let Pr=!1;function wn(e){return e===this.v}function En(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function xn(e){return!En(e,this.v)}let Je=!1,Dr=!1;function Lr(){Je=!0}let C=null;function st(e){C=e}function be(e,t=!1,n){C={p:C,c:null,e:null,s:e,x:null,l:Je&&!t?{s:null,u:null,$:[]}:null}}function ye(e){var t=C,n=t.e;if(n!==null){t.e=null;for(var r of n)Mn(r)}return C=t.p,{}}function Ae(){return!Je||C!==null&&C.l===null}const Ir=new WeakMap;function Fr(e){var t=E;if(t===null)return w.f|=de,e;if((t.f&Ut)===0){if((t.f&yn)===0)throw!t.parent&&e instanceof Error&&kn(e),e;t.b.error(e)}else zt(e,t)}function zt(e,t){for(;t!==null;){if((t.f&yn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&kn(e),e}function kn(e){const t=Ir.get(e);t&&(it(e,"message",{value:t.message}),it(e,"stack",{value:t.stack}))}let lt=[];function Mr(){var e=lt;lt=[],Tt(e)}function qr(e){lt.length===0&&queueMicrotask(Mr),lt.push(e)}function Ur(){for(var e=E.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&gr(),e}function dt(e){var t=j|z,n=w!==null&&(w.f&j)!==0?w:null;return E===null||n!==null&&(n.f&B)!==0?t|=B:E.f|=Wt,{ctx:C,deps:null,effects:null,equals:wn,f:t,fn:e,reactions:null,rv:0,v:R,wv:0,parent:n??E,ac:null}}function jr(e,t){let n=E;n===null&&mr();var r=n.b,i=void 0,a=Ve(R),s=null,u=!w;return Qr(()=>{try{var l=e()}catch(c){l=Promise.reject(c)}var o=()=>l;i=s?.then(o,o)??Promise.resolve(l),s=i;var d=$,h=r.pending;u&&(r.update_pending_count(1),h||d.increment());const v=(c,f=void 0)=>{s=null,h||d.activate(),f?f!==Vt&&(a.f|=de,ut(a,f)):((a.f&de)!==0&&(a.f^=de),ut(a,c)),u&&(r.update_pending_count(-1),h||d.decrement()),$n()};if(i.then(v,c=>v(null,c||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(l=>{function o(d){function h(){d===i?l(a):o(i)}d.then(h,h)}o(i)})}function tt(e){const t=dt(e);return Kn(t),t}function Tn(e){const t=dt(e);return t.equals=xn,t}function Sn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ne(t[n])}}function Wr(e){for(var t=e.parent;t!==null;){if((t.f&j)===0)return t;t=t.parent}return null}function Kt(e){var t,n=E;ce(Wr(e));try{Sn(e),t=Yn(e)}finally{ce(n)}return t}function Cn(e){var t=Kt(e);if(e.equals(t)||(e.v=t,e.wv=Hn()),!Pe)if(Ce!==null)Ce.set(e,e.v);else{var n=(ue||(e.f&B)!==0)&&e.deps!==null?ie:A;L(e,n)}}function Br(e,t,n){const r=Ae()?dt:Tn;if(t.length===0){n(e.map(r));return}var i=$,a=E,s=Vr(),u=Ur();Promise.all(t.map(l=>jr(l))).then(l=>{i?.activate(),s();try{n([...e.map(r),...l])}catch(o){(a.f&Re)===0&&zt(o,a)}i?.deactivate(),$n()}).catch(l=>{u.error(l)})}function Vr(){var e=E,t=w,n=C;return function(){ce(e),ee(t),st(n)}}function $n(){ce(null),ee(null),st(null)}const Me=new Set;let $=null,rt=null,Ce=null,rn=new Set,ot=[];function On(){const e=ot.shift();ot.length>0&&queueMicrotask(On),e()}let Be=[],Xt=null,Ct=!1;class $e{current=new Map;#i=new Map;#a=new Set;#e=0;#u=null;#f=!1;#n=[];#s=[];#r=[];#t=[];#l=[];#c=[];#v=[];skipped_effects=new Set;process(t){Be=[],rt=null;var n=null;if(Me.size>1){n=new Map,Ce=new Map;for(const[a,s]of this.current)n.set(a,{v:a.v,wv:a.wv}),a.v=s;for(const a of Me)if(a!==this)for(const[s,u]of a.#i)n.has(s)||(n.set(s,{v:s.v,wv:s.wv}),s.v=u)}for(const a of t)this.#_(a);if(this.#n.length===0&&this.#e===0){this.#d();var r=this.#r,i=this.#t;this.#r=[],this.#t=[],this.#l=[],rt=$,$=null,an(r),an(i),$===null?$=this:Me.delete(this),this.#u?.resolve()}else this.#o(this.#r),this.#o(this.#t),this.#o(this.#l);if(n){for(const[a,{v:s,wv:u}]of n)a.wv<=u&&(a.v=s);Ce=null}for(const a of this.#n)he(a);for(const a of this.#s)he(a);this.#n=[],this.#s=[]}#_(t){t.f^=A;for(var n=t.first;n!==null;){var r=n.f,i=(r&(re|pe))!==0,a=i&&(r&A)!==0,s=a||(r&H)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(i)n.f^=A;else if((r&bn)!==0)this.#t.push(n);else if((r&A)===0)if((r&Bt)!==0){var u=n.b?.pending?this.#s:this.#n;u.push(n)}else Ge(n)&&((n.f&Ne)!==0&&this.#l.push(n),he(n));var l=n.first;if(l!==null){n=l;continue}}var o=n.parent;for(n=n.next;n===null&&o!==null;)n=o.next,o=o.parent}}#o(t){for(const n of t)((n.f&z)!==0?this.#c:this.#v).push(n),L(n,A);t.length=0}capture(t,n){this.#i.has(t)||this.#i.set(t,n),this.current.set(t,t.v)}activate(){$=this}deactivate(){$=null,rt=null;for(const t of rn)if(rn.delete(t),t(),$!==null)break}neuter(){this.#f=!0}flush(){Be.length>0?zr():this.#d(),$===this&&(this.#e===0&&Me.delete(this),this.deactivate())}#d(){if(!this.#f)for(const t of this.#a)t();this.#a.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#c)L(t,z),Oe(t);for(const t of this.#v)L(t,ie),Oe(t);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#a.add(t)}settled(){return(this.#u??=br()).promise}static ensure(){if($===null){const t=$=new $e;Me.add($),$e.enqueue(()=>{$===t&&t.flush()})}return $}static enqueue(t){ot.length===0&&queueMicrotask(On),ot.unshift(t)}}function zr(){var e=Te;Ct=!0;try{var t=0;for(on(!0);Be.length>0;){var n=$e.ensure();if(t++>1e3){var r,i;Kr()}n.process(Be),fe.clear()}}finally{Ct=!1,on(e),Xt=null}}function Kr(){try{kr()}catch(e){zt(e,Xt)}}let ve=null;function an(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Re|H))===0&&Ge(r)&&(ve=[],he(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Bn(r):r.fn=null),ve.length>0)){fe.clear();for(const i of ve)he(i);ve=[]}}ve=null}}function Oe(e){for(var t=Xt=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ct&&t===E&&(n&Ne)!==0)return;if((n&(pe|re))!==0){if((n&A)===0)return;t.f^=A}}Be.push(t)}const fe=new Map;function Ve(e,t){var n={f:0,v:e,reactions:null,equals:wn,rv:0,wv:0};return n}function le(e,t){const n=Ve(e);return Kn(n),n}function F(e,t=!1,n=!0){const r=Ve(e);return t||(r.equals=xn),Je&&n&&C!==null&&C.l!==null&&(C.l.s??=[]).push(r),r}function x(e,t,n=!1){w!==null&&(!Q||(w.f&nn)!==0)&&Ae()&&(w.f&(j|Ne|Bt|nn))!==0&&!te?.includes(e)&&Cr();let r=n?qe(t):t;return ut(e,r)}function ut(e,t){if(!e.equals(t)){var n=e.v;Pe?fe.set(e,t):fe.set(e,n),e.v=t;var r=$e.ensure();r.capture(e,n),(e.f&j)!==0&&((e.f&z)!==0&&Kt(e),L(e,(e.f&B)===0?A:ie)),e.wv=Hn(),Nn(e,z),Ae()&&E!==null&&(E.f&A)!==0&&(E.f&(re|pe))===0&&(W===null?ni([e]):W.push(e))}return t}function wt(e){x(e,e.v+1)}function Nn(e,t){var n=e.reactions;if(n!==null)for(var r=Ae(),i=n.length,a=0;a<i;a++){var s=n[a],u=s.f;if(!(!r&&s===E)){var l=(u&z)===0;l&&L(s,t),(u&j)!==0?Nn(s,ie):l&&((u&Ne)!==0&&ve!==null&&ve.push(s),Oe(s))}}}function qe(e){if(typeof e!="object"||e===null||We in e)return e;const t=pn(e);if(t!==_r&&t!==hr)return e;var n=new Map,r=Mt(e),i=le(0),a=_e,s=u=>{if(_e===a)return u();var l=w,o=_e;ee(null),fn(a);var d=u();return ee(l),fn(o),d};return r&&n.set("length",le(e.length)),new Proxy(e,{defineProperty(u,l,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&Tr();var d=n.get(l);return d===void 0?d=s(()=>{var h=le(o.value);return n.set(l,h),h}):x(d,o.value,!0),!0},deleteProperty(u,l){var o=n.get(l);if(o===void 0){if(l in u){const d=s(()=>le(R));n.set(l,d),wt(i)}}else x(o,R),wt(i);return!0},get(u,l,o){if(l===We)return e;var d=n.get(l),h=l in u;if(d===void 0&&(!h||je(u,l)?.writable)&&(d=s(()=>{var c=qe(h?u[l]:R),f=le(c);return f}),n.set(l,d)),d!==void 0){var v=_(d);return v===R?void 0:v}return Reflect.get(u,l,o)},getOwnPropertyDescriptor(u,l){var o=Reflect.getOwnPropertyDescriptor(u,l);if(o&&"value"in o){var d=n.get(l);d&&(o.value=_(d))}else if(o===void 0){var h=n.get(l),v=h?.v;if(h!==void 0&&v!==R)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return o},has(u,l){if(l===We)return!0;var o=n.get(l),d=o!==void 0&&o.v!==R||Reflect.has(u,l);if(o!==void 0||E!==null&&(!d||je(u,l)?.writable)){o===void 0&&(o=s(()=>{var v=d?qe(u[l]):R,c=le(v);return c}),n.set(l,o));var h=_(o);if(h===R)return!1}return d},set(u,l,o,d){var h=n.get(l),v=l in u;if(r&&l==="length")for(var c=o;c<h.v;c+=1){var f=n.get(c+"");f!==void 0?x(f,R):c in u&&(f=s(()=>le(R)),n.set(c+"",f))}if(h===void 0)(!v||je(u,l)?.writable)&&(h=s(()=>le(void 0)),x(h,qe(o)),n.set(l,h));else{v=h.v!==R;var p=s(()=>qe(o));x(h,p)}var g=Reflect.getOwnPropertyDescriptor(u,l);if(g?.set&&g.set.call(d,o),!v){if(r&&typeof l=="string"){var k=n.get("length"),y=Number(l);Number.isInteger(y)&&y>=k.v&&x(k,y+1)}wt(i)}return!0},ownKeys(u){_(i);var l=Reflect.ownKeys(u).filter(h=>{var v=n.get(h);return v===void 0||v.v!==R});for(var[o,d]of n)d.v!==R&&!(o in u)&&l.push(o);return l},setPrototypeOf(){Sr()}})}var sn,Rn,An,Pn;function Xr(){if(sn===void 0){sn=window,Rn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;An=je(t,"firstChild").get,Pn=je(t,"nextSibling").get,tn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),tn(n)&&(n.__t=void 0)}}function Ye(e=""){return document.createTextNode(e)}function ft(e){return An.call(e)}function _t(e){return Pn.call(e)}function S(e,t){return ft(e)}function oe(e,t){{var n=ft(e);return n instanceof Comment&&n.data===""?_t(n):n}}function m(e,t=1,n=!1){let r=e;for(;t--;)r=_t(r);return r}function Hr(e){e.textContent=""}function Dn(){return!1}let ln=!1;function Jr(){ln||(ln=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ht(e){var t=w,n=E;ee(null),ce(null);try{return e()}finally{ee(t),ce(n)}}function Ln(e,t,n,r=n){e.addEventListener(t,()=>ht(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Jr()}function In(e){E===null&&w===null&&xr(),w!==null&&(w.f&B)!==0&&E===null&&Er(),Pe&&wr()}function Yr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ae(e,t,n,r=!0){var i=E;i!==null&&(i.f&H)!==0&&(e|=H);var a={ctx:C,deps:null,nodes_start:null,nodes_end:null,f:e|z,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{he(a),a.f|=Ut}catch(l){throw ne(a),l}else t!==null&&Oe(a);var s=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&Wt)===0;if(!s&&r&&(i!==null&&Yr(a,i),w!==null&&(w.f&j)!==0&&(e&pe)===0)){var u=w;(u.effects??=[]).push(a)}return a}function Fn(e){const t=ae(vt,null,!1);return L(t,A),t.teardown=e,t}function $t(e){In();var t=E.f,n=!w&&(t&re)!==0&&(t&Ut)===0;if(n){var r=C;(r.e??=[]).push(e)}else return Mn(e)}function Mn(e){return ae(bn|gn,e,!1)}function Gr(e){return In(),ae(vt|gn,e,!0)}function Zr(e){$e.ensure();const t=ae(pe,e,!0);return(n={})=>new Promise(r=>{n.outro?Ht(t,()=>{ne(t),r(void 0)}):(ne(t),r(void 0))})}function Ot(e,t){var n=C,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=pt(()=>{e(),!r.ran&&(r.ran=!0,V(t))})}function qn(){var e=C;pt(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&A)!==0&&L(n,ie),Ge(n)&&he(n),t.ran=!1}})}function Qr(e){return ae(Bt|Wt,e,!0)}function pt(e,t=0){return ae(vt|t,e,!0)}function ge(e,t=[],n=[]){Br(t,n,r=>{ae(vt,()=>e(...r.map(_)),!0)})}function Un(e,t=0){var n=ae(Ne|t,e,!0);return n}function ze(e,t=!0){return ae(re,e,!0,t)}function jn(e){var t=e.teardown;if(t!==null){const n=Pe,r=w;un(!0),ee(null);try{t.call(null)}finally{un(n),ee(r)}}}function Wn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&ht(()=>{i.abort(Vt)});var r=n.next;(n.f&pe)!==0?n.parent=null:ne(n,t),n=r}}function ei(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&re)===0&&ne(t),t=n}}function ne(e,t=!0){var n=!1;(t||(e.f&yr)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ti(e.nodes_start,e.nodes_end),n=!0),Wn(e,t&&!n),ct(e,0),L(e,Re);var r=e.transitions;if(r!==null)for(const a of r)a.stop();jn(e);var i=e.parent;i!==null&&i.first!==null&&Bn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ti(e,t){for(;e!==null;){var n=e===t?null:_t(e);e.remove(),e=n}}function Bn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ht(e,t){var n=[];Jt(e,n,!0),Vn(n,()=>{ne(e),t&&t()})}function Vn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Jt(e,t,n){if((e.f&H)===0){if(e.f^=H,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var i=r.next,a=(r.f&jt)!==0||(r.f&re)!==0;Jt(r,t,a?n:!1),r=i}}}function Yt(e){zn(e,!0)}function zn(e,t){if((e.f&H)!==0){e.f^=H,(e.f&A)===0&&(L(e,z),Oe(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&jt)!==0||(n.f&re)!==0;zn(n,i?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Te=!1;function on(e){Te=e}let Pe=!1;function un(e){Pe=e}let w=null,Q=!1;function ee(e){w=e}let E=null;function ce(e){E=e}let te=null;function Kn(e){w!==null&&(te===null?te=[e]:te.push(e))}let D=null,U=0,W=null;function ni(e){W=e}let Xn=1,Ke=0,_e=Ke;function fn(e){_e=e}let ue=!1;function Hn(){return++Xn}function Ge(e){var t=e.f;if((t&z)!==0)return!0;if((t&ie)!==0){var n=e.deps,r=(t&B)!==0;if(n!==null){var i,a,s=(t&at)!==0,u=r&&E!==null&&!ue,l=n.length;if((s||u)&&(E===null||(E.f&Re)===0)){var o=e,d=o.parent;for(i=0;i<l;i++)a=n[i],(s||!a?.reactions?.includes(o))&&(a.reactions??=[]).push(o);s&&(o.f^=at),u&&d!==null&&(d.f&B)===0&&(o.f^=B)}for(i=0;i<l;i++)if(a=n[i],Ge(a)&&Cn(a),a.wv>e.wv)return!0}(!r||E!==null&&!ue)&&L(e,A)}return!1}function Jn(e,t,n=!0){var r=e.reactions;if(r!==null&&!te?.includes(e))for(var i=0;i<r.length;i++){var a=r[i];(a.f&j)!==0?Jn(a,t,!1):t===a&&(n?L(a,z):(a.f&A)!==0&&L(a,ie),Oe(a))}}function Yn(e){var t=D,n=U,r=W,i=w,a=ue,s=te,u=C,l=Q,o=_e,d=e.f;D=null,U=0,W=null,ue=(d&B)!==0&&(Q||!Te||w===null),w=(d&(re|pe))===0?e:null,te=null,st(e.ctx),Q=!1,_e=++Ke,e.ac!==null&&(ht(()=>{e.ac.abort(Vt)}),e.ac=null);try{e.f|=St;var h=e.fn,v=h(),c=e.deps;if(D!==null){var f;if(ct(e,U),c!==null&&U>0)for(c.length=U+D.length,f=0;f<D.length;f++)c[U+f]=D[f];else e.deps=c=D;if(!ue||(d&j)!==0&&e.reactions!==null)for(f=U;f<c.length;f++)(c[f].reactions??=[]).push(e)}else c!==null&&U<c.length&&(ct(e,U),c.length=U);if(Ae()&&W!==null&&!Q&&c!==null&&(e.f&(j|ie|z))===0)for(f=0;f<W.length;f++)Jn(W[f],e);return i!==null&&i!==e&&(Ke++,W!==null&&(r===null?r=W:r.push(...W))),(e.f&de)!==0&&(e.f^=de),v}catch(p){return Fr(p)}finally{e.f^=St,D=t,U=n,W=r,w=i,ue=a,te=s,st(u),Q=l,_e=o}}function ri(e,t){let n=t.reactions;if(n!==null){var r=vr.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&j)!==0&&(D===null||!D.includes(t))&&(L(t,ie),(t.f&(B|at))===0&&(t.f^=at),Sn(t),ct(t,0))}function ct(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ri(e,n[r])}function he(e){var t=e.f;if((t&Re)===0){L(e,A);var n=E,r=Te;E=e,Te=!0;try{(t&Ne)!==0?ei(e):Wn(e),jn(e);var i=Yn(e);e.teardown=typeof i=="function"?i:null,e.wv=Xn;var a;hn&&Dr&&(e.f&z)!==0&&e.deps}finally{Te=r,E=n}}}function _(e){var t=e.f,n=(t&j)!==0;if(w!==null&&!Q){var r=E!==null&&(E.f&Re)!==0;if(!r&&!te?.includes(e)){var i=w.deps;if((w.f&St)!==0)e.rv<Ke&&(e.rv=Ke,D===null&&i!==null&&i[U]===e?U++:D===null?D=[e]:(!ue||!D.includes(e))&&D.push(e));else{(w.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[w]:a.includes(w)||a.push(w)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,u=s.parent;u!==null&&(u.f&B)===0&&(s.f^=B)}if(Pe){if(fe.has(e))return fe.get(e);if(n){s=e;var l=s.v;return((s.f&A)===0&&s.reactions!==null||Gn(s))&&(l=Kt(s)),fe.set(s,l),l}}else if(n){if(s=e,Ce?.has(s))return Ce.get(s);Ge(s)&&Cn(s)}if((e.f&de)!==0)throw e.v;return e.v}function Gn(e){if(e.v===R)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(fe.has(t)||(t.f&j)!==0&&Gn(t))return!0;return!1}function V(e){var t=Q;try{return Q=!0,e()}finally{Q=t}}const ii=-7169;function L(e,t){e.f=e.f&ii|t}function ai(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(We in e)Nt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&We in n&&Nt(n)}}}function Nt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Nt(e[r],t)}catch{}const n=pn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=dr(n);for(let i in r){const a=r[i].get;if(a)try{a.call(e)}catch{}}}}}const si=["touchstart","touchmove"];function li(e){return si.includes(e)}const oi=new Set,cn=new Set;function ui(e,t,n,r={}){function i(a){if(r.capture||Ue.call(t,a),!a.cancelBubble)return ht(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?qr(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function X(e,t,n,r,i){var a={capture:r,passive:i},s=ui(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Fn(()=>{t.removeEventListener(e,s,a)})}let vn=null;function Ue(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],a=i[0]||e.target;vn=e;var s=0,u=vn===e&&e.__root;if(u){var l=i.indexOf(u);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var o=i.indexOf(t);if(o===-1)return;l<=o&&(s=l)}if(a=i[s]||e.target,a!==t){it(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=w,h=E;ee(null),ce(null);try{for(var v,c=[];a!==null;){var f=a.assignedSlot||a.parentNode||a.host||null;try{var p=a["__"+r];if(p!=null&&(!a.disabled||e.target===a))if(Mt(p)){var[g,...k]=p;g.apply(a,[e,...k])}else p.call(a,e)}catch(y){v?c.push(y):v=y}if(e.cancelBubble||f===t||f===null)break;a=f}if(v){for(let y of c)queueMicrotask(()=>{throw y});throw v}}finally{e.__root=t,delete e.currentTarget,ee(d),ce(h)}}}function fi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Rt(e,t){var n=E;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function P(e,t){var n=(t&Rr)!==0,r=(t&Ar)!==0,i,a=!e.startsWith("<!>");return()=>{i===void 0&&(i=fi(a?e:"<!>"+e),n||(i=ft(i)));var s=r||Rn?document.importNode(i,!0):i.cloneNode(!0);if(n){var u=ft(s),l=s.lastChild;Rt(u,l)}else Rt(s,s);return s}}function nt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ye();return e.append(t,n),Rt(t,n),e}function O(e,t){e!==null&&e.before(t)}function Y(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ci(e,t){return vi(e,t)}const Ee=new Map;function vi(e,{target:t,anchor:n,props:r={},events:i,context:a,intro:s=!0}){Xr();var u=new Set,l=h=>{for(var v=0;v<h.length;v++){var c=h[v];if(!u.has(c)){u.add(c);var f=li(c);t.addEventListener(c,Ue,{passive:f});var p=Ee.get(c);p===void 0?(document.addEventListener(c,Ue,{passive:f}),Ee.set(c,1)):Ee.set(c,p+1)}}};l(qt(oi)),cn.add(l);var o=void 0,d=Zr(()=>{var h=n??t.appendChild(Ye());return ze(()=>{if(a){be({});var v=C;v.c=a}i&&(r.$$events=i),o=e(h,r)||{},a&&ye()}),()=>{for(var v of u){t.removeEventListener(v,Ue);var c=Ee.get(v);--c===0?(document.removeEventListener(v,Ue),Ee.delete(v)):Ee.set(v,c)}cn.delete(l),h!==n&&h.parentNode?.removeChild(h)}});return di.set(o,d),o}let di=new WeakMap;function G(e,t,n=!1){var r=e,i=null,a=null,s=R,u=n?jt:0,l=!1;const o=(c,f=!0)=>{l=!0,v(f,c)};var d=null;function h(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var c=s?i:a,f=s?a:i;c&&Yt(c),f&&Ht(f,()=>{s?a=null:i=null})}const v=(c,f)=>{if(s!==(s=c)){var p=Dn(),g=r;if(p&&(d=document.createDocumentFragment(),d.append(g=Ye())),s?i??=f&&ze(()=>f(g)):a??=f&&ze(()=>f(g)),p){var k=$,y=s?i:a,b=s?a:i;y&&k.skipped_effects.delete(y),b&&k.skipped_effects.add(b),k.add_callback(h)}else h()}};Un(()=>{l=!1,t(o),l||v(null,null)},u)}function Zn(e,t){return t}function _i(e,t,n){for(var r=e.items,i=[],a=t.length,s=0;s<a;s++)Jt(t[s].e,i,!0);var u=a>0&&i.length===0&&n!==null;if(u){var l=n.parentNode;Hr(l),l.append(n),r.clear(),J(e,t[0].prev,t[a-1].next)}Vn(i,()=>{for(var o=0;o<a;o++){var d=t[o];u||(r.delete(d.k),J(e,d.prev,d.next)),ne(d.e,!u)}})}function Qn(e,t,n,r,i,a=null){var s=e,u={flags:t,items:new Map,first:null};{var l=e;s=l.appendChild(Ye())}var o=null,d=!1,h=new Map,v=Tn(()=>{var g=n();return Mt(g)?g:g==null?[]:qt(g)}),c,f;function p(){hi(f,c,u,h,s,i,t,r,n),a!==null&&(c.length===0?o?Yt(o):o=ze(()=>a(s)):o!==null&&Ht(o,()=>{o=null}))}Un(()=>{f??=E,c=_(v);var g=c.length;if(!(d&&g===0)){d=g===0;var k,y,b,T;if(Dn()){var N=new Set,K=$;for(y=0;y<g;y+=1){b=c[y],T=r(b,y);var I=u.items.get(T)??h.get(T);I?er(I,b,y):(k=tr(null,u,null,null,b,T,y,i,t,n,!0),h.set(T,k)),N.add(T)}for(const[M,q]of u.items)N.has(M)||K.skipped_effects.add(q.e);K.add_callback(p)}else p();_(v)}})}function hi(e,t,n,r,i,a,s,u,l){var o=t.length,d=n.items,h=n.first,v=h,c,f=null,p=[],g=[],k,y,b,T;for(T=0;T<o;T+=1){if(k=t[T],y=u(k,T),b=d.get(y),b===void 0){var N=r.get(y);if(N!==void 0){r.delete(y),d.set(y,N);var K=f?f.next:v;J(n,f,N),J(n,N,K),Et(N,K,i),f=N}else{var I=v?v.e.nodes_start:i;f=tr(I,n,f,f===null?n.first:f.next,k,y,T,a,s,l)}d.set(y,f),p=[],g=[],v=f.next;continue}if(er(b,k,T),(b.e.f&H)!==0&&Yt(b.e),b!==v){if(c!==void 0&&c.has(b)){if(p.length<g.length){var M=g[0],q;f=M.prev;var Qe=p[0],Ie=p[p.length-1];for(q=0;q<p.length;q+=1)Et(p[q],M,i);for(q=0;q<g.length;q+=1)c.delete(g[q]);J(n,Qe.prev,Ie.next),J(n,f,Qe),J(n,Ie,M),v=M,f=Ie,T-=1,p=[],g=[]}else c.delete(b),Et(b,v,i),J(n,b.prev,b.next),J(n,b,f===null?n.first:f.next),J(n,f,b),f=b;continue}for(p=[],g=[];v!==null&&v.k!==y;)(v.e.f&H)===0&&(c??=new Set).add(v),g.push(v),v=v.next;if(v===null)continue;b=v}p.push(b),f=b,v=b.next}if(v!==null||c!==void 0){for(var Fe=c===void 0?[]:qt(c);v!==null;)(v.e.f&H)===0&&Fe.push(v),v=v.next;var se=Fe.length;if(se>0){var et=o===0?i:null;_i(n,Fe,et)}}e.first=n.first&&n.first.e,e.last=f&&f.e;for(var mt of r.values())ne(mt.e);r.clear()}function er(e,t,n,r){ut(e.v,t),e.i=n}function tr(e,t,n,r,i,a,s,u,l,o,d){var h=(l&$r)!==0,v=(l&Nr)===0,c=h?v?F(i,!1,!1):Ve(i):i,f=(l&Or)===0?s:Ve(s),p={i:f,v:c,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var g=document.createDocumentFragment();g.append(e=Ye())}return p.e=ze(()=>u(e,c,f,o),Pr),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?d||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Et(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var s=_t(a);i.before(a),a=s}}function J(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Xe(e,t,n=t){var r=Ae(),i=new WeakSet;Ln(e,"input",a=>{var s=a?e.defaultValue:e.value;if(s=xt(e)?kt(s):s,n(s),$!==null&&i.add($),r&&s!==(s=t())){var u=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(l,e.value.length))}}),V(t)==null&&e.value&&(n(xt(e)?kt(e.value):e.value),$!==null&&i.add($)),pt(()=>{var a=t();if(e===document.activeElement){var s=rt??$;if(i.has(s))return}xt(e)&&a===kt(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function pi(e,t,n=t){Ln(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),V(t)==null&&n(e.checked),pt(()=>{var r=t();e.checked=!!r})}function xt(e){var t=e.type;return t==="number"||t==="range"}function kt(e){return e===""?null:+e}function bi(e){return function(...t){var n=t[0];return n.preventDefault(),e?.apply(this,t)}}function De(e=!1){const t=C,n=t.l.u;if(!n)return;let r=()=>ai(t.s);if(e){let i=0,a={};const s=dt(()=>{let u=!1;const l=t.s;for(const o in l)l[o]!==a[o]&&(a[o]=l[o],u=!0);return u&&i++,i});r=()=>_(s)}n.b.length&&Gr(()=>{dn(t,r),Tt(n.b)}),$t(()=>{const i=V(()=>n.m.map(pr));return()=>{for(const a of i)typeof a=="function"&&a()}}),n.a.length&&$t(()=>{dn(t,r),Tt(n.a)})}function dn(e,t){if(e.l.s)for(const n of e.l.s)_(n);t()}function nr(e,t,n){if(e==null)return t(void 0),ke;const r=V(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const xe=[];function bt(e,t=ke){let n=null;const r=new Set;function i(u){if(En(e,u)&&(e=u,n)){const l=!xe.length;for(const o of r)o[1](),xe.push(o,e);if(l){for(let o=0;o<xe.length;o+=2)xe[o][0](xe[o+1]);xe.length=0}}}function a(u){i(u(e))}function s(u,l=ke){const o=[u,l];return r.add(o),r.size===1&&(n=t(i,a)||ke),u(e),()=>{r.delete(o),r.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:s}}function yi(e){let t;return nr(e,n=>t=n)(),t}let At=Symbol();function Se(e,t,n){const r=n[t]??={store:null,source:F(void 0),unsubscribe:ke};if(r.store!==e&&!(At in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=ke;else{var i=!0;r.unsubscribe=nr(e,a=>{i?r.source.v=a:x(r.source,a)}),i=!1}return e&&At in n?yi(e):_(r.source)}function yt(){const e={};function t(){Fn(()=>{for(var n in e)e[n].unsubscribe();it(e,At,{enumerable:!1,value:!0})})}return[e,t]}function Gt(e){C===null&&mn(),Je&&C.l!==null?mi(C).m.push(e):$t(()=>{const t=V(e);if(typeof t=="function")return t})}function gi(e){C===null&&mn(),Gt(()=>()=>V(e))}function mi(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const wi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(wi);Lr();const rr="/api";function Pt(e){const t=document.cookie.match(new RegExp(`(?:^|; )${e}=([^;]*)`));return t?decodeURIComponent(t[1]):null}async function Ze(){const e=Pt("XSRF-TOKEN");if(e)return e;await fetch(`${rr}/auth/csrf`,{credentials:"include"});const t=Pt("XSRF-TOKEN");if(!t)throw new Error("csrf");return t}async function Le(e,t={}){return fetch(`${rr}${e}`,{credentials:"include",...t})}async function Zt(e){const t=await Le(e);if(t.status===401)throw new Error("unauthorized");if(!t.ok)throw new Error(`GET ${e} -> ${t.status}`);return t.json()}async function _n(e,t){const n=await Ze(),r=await Le(e,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":n},body:JSON.stringify(t)});if(r.status===401)throw new Error("unauthorized");if(r.status===204)return;if(!r.ok)throw new Error(`POST ${e} -> ${r.status}`);return(r.headers.get("content-type")||"").includes("application/json")?r.json():void 0}async function Ei(e,t){const n=await Ze(),r=await Le(e,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-Token":n},body:JSON.stringify(t)});if(r.status===401)throw new Error("unauthorized");if(!r.ok)throw new Error(`PUT ${e} -> ${r.status}`);return r.status===204?void 0:r.json()}async function xi(e,t){const n=await Ze(),r=await Le(e,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":n},body:JSON.stringify(t)});if(r.status===401)throw new Error("unauthorized");if(!r.ok)throw new Error(`POST ${e} -> ${r.status}`);return r.blob()}async function ki(e,t){await Ze();const n=await Le("/auth/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":Pt("XSRF-TOKEN")},body:JSON.stringify({username:e,password:t})});if(n.status!==204)throw n.status===403?new Error("forbidden"):new Error(`login ${n.status}`)}async function Ti(){const e=await Ze();await Le("/auth/logout",{method:"POST",headers:{"X-CSRF-Token":e}})}const He=bt(null),Dt=bt(!0);function Si(e,t){return!!(e&&e.roles&&e.roles.includes(t))}async function ir(){Dt.set(!0);try{const e=await Zt("/me");He.set(e)}catch{He.set(null)}finally{Dt.set(!1)}}function ar(e){return e?(e.startsWith("/")||(e="/"+e),e=e.replace(/\/{2,}/g,"/"),e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1)),e):"/"}function gt(){return ar(location.hash.slice(1))}const Qt=bt(gt());let Lt=gt();Qt.set(Lt);window.addEventListener("hashchange",()=>{const e=gt();e!==Lt&&(Lt=e,Qt.set(e))});function It(e){const t=ar(e),n=gt();t!==n&&(location.hash=t)}var Ci=P('<button class="btn">Clients</button> <button class="btn">CCD</button> <button class="btn">Audit</button>',1),$i=P('<span class="muted"> </span> <button class="btn ghost">Logout</button>',1),Oi=P('<nav class="navbar"><strong>OVPN Admin</strong> <button class="btn">Dashboard</button> <!> <div class="spacer"></div> <!></nav>');function Ni(e,t){be(t,!1);const[n,r]=yt(),i=()=>Se(He,"$session",n),a=F(),s=p=>()=>It(p);async function u(){await Ti(),location.reload()}Ot(()=>i(),()=>{x(a,i())}),qn(),De();var l=Oi(),o=m(S(l),2),d=tt(()=>s("/")),h=m(o,2);{var v=p=>{var g=Ci(),k=oe(g),y=tt(()=>s("/clients")),b=m(k,2),T=tt(()=>s("/ccd")),N=m(b,2),K=tt(()=>s("/audit"));X("click",k,function(...I){_(y)?.apply(this,I)}),X("click",b,function(...I){_(T)?.apply(this,I)}),X("click",N,function(...I){_(K)?.apply(this,I)}),O(p,g)};G(h,p=>{_(a),V(()=>_(a)?.roles?.includes("ADMIN"))&&p(v)})}var c=m(h,4);{var f=p=>{var g=$i(),k=oe(g),y=S(k),b=m(k,2);ge(()=>Y(y,(i(),V(()=>i()?.username)))),X("click",b,u),O(p,g)};G(c,p=>{_(a)&&p(f)})}X("click",o,function(...p){_(d)?.apply(this,p)}),O(e,l),ye(),r()}var Ri=P('<div style="color:#b00"> </div>'),Ai=P('<form style="max-width:340px;margin:64px auto;display:flex;flex-direction:column;gap:10px"><h2>Sign in</h2> <!> <label>Username <input class="input" required/></label> <label>Password <input class="input" type="password" required/></label> <button class="btn" type="submit">Login</button></form>');function Pi(e,t){be(t,!1);let n=F(""),r=F(""),i=F("");async function a(c){c.preventDefault(),x(i,"");try{await ki(_(n),_(r)),await ir(),location.hash="/"}catch(f){x(i,f.message||"login failed")}}De();var s=Ai(),u=m(S(s),2);{var l=c=>{var f=Ri(),p=S(f);ge(()=>Y(p,_(i))),O(c,f)};G(u,c=>{_(i)&&c(l)})}var o=m(u,2),d=m(S(o)),h=m(o,2),v=m(S(h));Xe(d,()=>_(n),c=>x(n,c)),Xe(v,()=>_(r),c=>x(r,c)),X("submit",s,bi(a)),O(e,s),ye()}var Di=P('<section style="padding:16px"><h2>Dashboard</h2> <pre> </pre></section>');function Li(e){const[t,n]=yt(),r=()=>Se(He,"$session",t);var i=Di(),a=m(S(i),2),s=S(a);ge(u=>Y(s,u),[()=>JSON.stringify(r(),null,2)]),O(e,i),n()}const Ft=bt([]);let Ii=1;function Z(e,t=3e3){const n=Ii++;Ft.update(r=>[...r,{id:n,text:e}]),setTimeout(()=>Ft.update(r=>r.filter(i=>i.id!==n)),t)}var Fi=P("<div>Working…</div>"),Mi=P('<section class="section" style="max-width:520px;display:grid;gap:12px"><h2>Clients</h2> <label>Common Name <input class="input" placeholder="alice-laptop"/></label> <label><input type="checkbox"/> include private key in bundle</label> <div style="display:flex;gap:8px"><button class="btn primary">Create</button> <button class="btn">Bundle</button> <button class="btn">Revoke</button></div> <!></section>');function qi(e,t){be(t,!1);let n=F(""),r=F(!0),i=F(!1);async function a(){if(_(n)){x(i,!0);try{await _n("/admin/clients",{cn:_(n),include_key:_(r)}),Z("Client created")}catch(b){Z(`Create failed: ${b.message}`)}finally{x(i,!1)}}}async function s(){if(_(n)){x(i,!0);try{const b=await xi(`/admin/clients/${encodeURIComponent(_(n))}/bundle`,{include_key:_(r)}),T=URL.createObjectURL(b),N=document.createElement("a");N.href=T,N.download=`${_(n)}.zip`,N.click(),URL.revokeObjectURL(T),Z("Bundle downloaded")}catch(b){Z(`Bundle failed: ${b.message}`)}finally{x(i,!1)}}}async function u(){if(_(n)){x(i,!0);try{await _n(`/admin/clients/${encodeURIComponent(_(n))}/revoke`,{}),Z("Client revoked")}catch(b){Z(`Revoke failed: ${b.message}`)}finally{x(i,!1)}}}De();var l=Mi(),o=m(S(l),2),d=m(S(o)),h=m(o,2),v=S(h),c=m(h,2),f=S(c),p=m(f,2),g=m(p,2),k=m(c,2);{var y=b=>{var T=Fi();O(b,T)};G(k,b=>{_(i)&&b(y)})}ge(()=>{f.disabled=!_(n)||_(i),p.disabled=!_(n)||_(i),g.disabled=!_(n)||_(i)}),Xe(d,()=>_(n),b=>x(n,b)),pi(v,()=>_(r),b=>x(r,b)),X("click",f,a),X("click",p,s),X("click",g,u),O(e,l),ye()}var Ui=P('<section style="padding:16px;display:grid;gap:10px"><h2>CCD Editor</h2> <label>Common Name <input class="input" placeholder="alice-laptop"/></label> <div style="display:flex;gap:8px"><button class="btn">Load</button> <button class="btn">Save</button></div> <textarea class="input" rows="16" style="width:100%;font-family:monospace"></textarea></section>');function ji(e,t){be(t,!1);let n=F(""),r=F(""),i=F(!1);async function a(){if(_(n)){x(i,!0);try{const f=await Zt(`/admin/ccd/${encodeURIComponent(_(n))}`);x(r,f?.content||""),Z("Loaded")}catch(f){x(r,""),Z(`Load failed: ${f.message}`)}finally{x(i,!1)}}}async function s(){if(_(n)){x(i,!0);try{await Ei(`/admin/ccd/${encodeURIComponent(_(n))}`,{content:_(r)}),Z("Saved")}catch(f){Z(`Save failed: ${f.message}`)}finally{x(i,!1)}}}De();var u=Ui(),l=m(S(u),2),o=m(S(l)),d=m(l,2),h=S(d),v=m(h,2),c=m(d,2);ge(()=>{h.disabled=!_(n)||_(i),v.disabled=!_(n)||_(i)}),Xe(o,()=>_(n),f=>x(n,f)),X("click",h,a),X("click",v,s),Xe(c,()=>_(r),f=>x(r,f)),O(e,u),ye()}var Wi=P("<tr><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>"),Bi=P('<section style="padding:16px"><h2>Audit</h2> <table border="1" cellpadding="6" cellspacing="0"><thead><tr><th>Time</th><th>Actor</th><th>Action</th><th>Target</th><th>IP</th><th>UA</th></tr></thead><tbody></tbody></table></section>');function Vi(e,t){be(t,!1);let n=F([]),r;async function i(){const l=await Zt("/admin/audit?limit=100");x(n,l)}Gt(()=>{i(),r=setInterval(i,5e3)}),gi(()=>{r&&clearInterval(r)}),De();var a=Bi(),s=m(S(a),2),u=m(S(s));Qn(u,5,()=>_(n),Zn,(l,o)=>{var d=Wi(),h=S(d),v=S(h),c=m(h),f=S(c),p=m(c),g=S(p),k=m(p),y=S(k),b=m(k),T=S(b),N=m(b),K=S(N);ge(I=>{Y(v,I),Y(f,_(o).actor_user),Y(g,_(o).action),Y(y,_(o).target),Y(T,_(o).ip),Y(K,_(o).ua)},[()=>new Date(_(o).ts*1e3).toLocaleString()]),O(l,d)}),O(e,a),ye()}var zi=P('<div style="background:#222;color:#fff;padding:8px 12px;border-radius:6px;opacity:.95"> </div>'),Ki=P('<div style="position:fixed;right:12px;bottom:12px;display:grid;gap:8px;z-index:9999"></div>');function Xi(e){const[t,n]=yt(),r=()=>Se(Ft,"$toasts",t);var i=Ki();Qn(i,5,r,Zn,(a,s)=>{var u=zi(),l=S(u);ge(()=>Y(l,_(s).text)),O(a,u)}),O(e,i),n()}var Hi=P('<div style="padding:16px">Loading…</div>'),Ji=P('<section style="padding:16px"><h2>Not found</h2></section>'),Yi=P("<!> <!>",1),Gi=P("<!> <!>",1);function Zi(e,t){be(t,!1);const[n,r]=yt(),i=()=>Se(Qt,"$route",n),a=()=>Se(Dt,"$loading",n),s=()=>Se(He,"$session",n),u=F();Gt(()=>{ir()}),Ot(()=>i(),()=>{x(u,i())}),Ot(()=>(a(),s(),_(u),It),()=>{!a()&&s()&&!Si(s(),"ADMIN")&&(_(u).startsWith("/clients")||_(u).startsWith("/ccd")||_(u).startsWith("/audit"))&&It("/")}),qn(),De();var l=Gi(),o=oe(l);{var d=c=>{var f=Hi();O(c,f)},h=c=>{var f=nt(),p=oe(f);{var g=y=>{Pi(y,{})},k=y=>{var b=Yi(),T=oe(b);Ni(T,{});var N=m(T,2);{var K=M=>{Li(M)},I=M=>{var q=nt(),Qe=oe(q);{var Ie=se=>{qi(se,{})},Fe=se=>{var et=nt(),mt=oe(et);{var sr=me=>{ji(me,{})},lr=me=>{var en=nt(),or=oe(en);{var ur=we=>{Vi(we,{})},fr=we=>{var cr=Ji();O(we,cr)};G(or,we=>{_(u),V(()=>_(u).startsWith("/audit"))?we(ur):we(fr,!1)},!0)}O(me,en)};G(mt,me=>{_(u),V(()=>_(u).startsWith("/ccd"))?me(sr):me(lr,!1)},!0)}O(se,et)};G(Qe,se=>{_(u),V(()=>_(u).startsWith("/clients"))?se(Ie):se(Fe,!1)},!0)}O(M,q)};G(N,M=>{_(u)==="/"?M(K):M(I,!1)})}O(y,b)};G(p,y=>{s()?y(k,!1):y(g)})}O(c,f)};G(o,c=>{a()?c(d):c(h,!1)})}var v=m(o,2);Xi(v),O(e,l),ye(),r()}ci(Zi,{target:document.getElementById("app")});
